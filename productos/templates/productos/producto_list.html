{% extends 'base.html' %}
{% load static %}

{% block title %}Lista de Productos - FactuAmor{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'productos/css/productos.css' %}">
{% endblock %}

{% block content %}
<div class="product-list-container">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2>Lista de Productos</h2>
        <a href="{% url 'productos:crear_producto' %}" class="btn btn-success">Crear Producto</a>
    </div>

    <div class="product-grid">
        {% if productos %}
            {% for producto in productos %}
            <div class="product-card {% if producto.stock <= 5 %}low-stock{% endif %}">
                <div class="image-container">
                    {% if producto.imagen %}
                        <img src="{{ producto.imagen.url }}" alt="{{ producto.nombre }}">
                    {% else %}
                        <img src="{% static 'productos/images/no-image.png' %}" alt="Imagen no disponible">
                    {% endif %}
                </div>
                <div class="product-info">
                    <h3>{{ producto.nombre }}</h3>
                    <p class="description">{{ producto.descripcion }}</p>
                    <p class="price">{{ producto.precio|default:0 }} COP</p>
                    <p class="stock">Stock: {{ producto.stock }}</p>
                    <div class="product-actions">
                        <a href="{% url 'productos:editar_producto' producto.pk %}" class="btn btn-primary">Editar</a>
                        <a href="{% url 'productos:eliminar_producto' producto.pk %}" class="btn btn-danger">Eliminar</a>
                    </div>
                </div>
            </div>
            {% endfor %}
        {% else %}
            <p>No hay productos disponibles.</p>
        {% endif %}
    </div>
</div>
{% endblock %}